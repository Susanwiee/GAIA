# GAIA : Genetic Algorithm for Intelligent Architecture

The devlopment of GAIA is a part of my work for my masterÂ´s thesis in mechanical engineering at NTNU trondheim Norway, at the department of industrial and mechanical engineering. 
GAIA is a two-level generative design tool that bridges urban-scale planning with site-specific building design. It integrates geospatial data processing, a urban planning genetic algorithm (UPGA) for optimization, and IFC export (BuildingComposer), enabling planners and architects to explore sustainable urban configurations in a transparent and interactive workflow.

The workflow begins by pre-processing spatial data layers, such as buildings, nature zones, barriers, and services, extracted from OpenStreetMap and exported as GeoJSON files. These are parsed into GeoDataFrames using a custom class called LoadGeoData, which ensures accurate coordinate reference systems and consistent formatting across datasets. Sites are defined as polygons in a user-provided file (sites.json), and existing building geometries are modified using a script that estimates missing heights based on levels or default values, resulting in a cleaned and height-complete modified_buildings.geojson file.

<img width="682" alt="Skjermbilde 2025-06-10 kl  14 02 16" src="https://github.com/user-attachments/assets/124cbbb7-8823-4350-b2c9-248a2adc90bc" />

To visualize the urban context and verify data quality, GAIA includes a lightweight GIS-style viewer that enables users to overlay and inspect geospatial data layers. This interactive visualization helps to confirm labeling, feature completeness, and the structure of the optimization problem before running the generative design process. The available commands for visualizing geospatial layers are defined in GAIAmain.py, which utilizes the VisualizeData.py class to manage layer labeling and rendering. Below is an example of the visualization generated by the command "Buildings", which displays all building footprints classified by their OpenStreetMap tags.

<img width="757" alt="Skjermbilde 2025-06-10 kl  14 03 56" src="https://github.com/user-attachments/assets/43574006-b4f4-42e3-8a86-e49c210a04ab" />


The core of GAIA is the Urban Planning Genetic Algorithm (UPGA), which receives the processed data layers and a set of user-defined parameters. Each building is represented as a dictionary of traits (site, height, type, and GFA), and the algorithm generates populations of such configurations, evaluating them based on a multi-objective fitness function. These objectives include achieving the target GFA, improving accessibility for pedestrians and cyclists, ensuring service availability for housing and office buildings, and minimizing solar shadow impact on green spaces and rooftops. The UPGA evolves a population of candidate solutions over multiple generations using selection, crossover, and mutation. It returns the best-performing layout along with a textual report and a spatial plot that overlays the new proposal on top of the original urban fabric. Below is a 

<img width="1024" alt="Skjermbilde 2025-06-08 kl  14 26 08" src="https://github.com/user-attachments/assets/3661d454-7e65-40f7-8b44-d16aafba7cf8" />


Walkability
<img width="1232" alt="Skjermbilde 2025-06-08 kl  14 23 15" src="https://github.com/user-attachments/assets/9f99395d-655a-4ff3-b74d-471fb2d61b29" />

cycleability: 

shadow analysis: 

Availability of services: 

Target GFA: 

Once the best urban layout has been found, the Daedalus GA is run individually for each building. This second-level optimization refines the building shapes and volumes, based on site dimensions and the GFA target. It uses a different set of fitness objectives, focusing on shape compactness, solar PV roof potential, and window-to-wall ratios. The RectangleAnalyzer class bridges the geometric mismatch between polygonal sites and the rectangular input required by Daedalus by computing the largest inscribed rectangle within each site and tracking its position and orientation.

After optimization, the enhanced BuildingComposer module assembles an IFC model. Each site and building is placed at its real-world location and rotated to match true-north orientation, based on the previously computed rectangle parameters. The geometry of walls, roofs, and windows is generated using ifcopenshell and is correctly transformed to reflect site-specific orientations. The output is a spatially accurate IFC4-compliant model of the proposed district, suitable for BIM interoperability.

To run the entire GAIA pipeline, users execute the GAIAmain.py script. This script loads the required input data, executes the UPGA and Daedalus GA, and exports both a human-readable report and a fully georeferenced IFC file. The interface allows users to adjust weights for different fitness objectives, input location-specific sun angles, and define target GFA and other building specifications. The code is modular, extensible, and designed for integration into generative urban design workflows.

Visualizations such as building-type classification maps, shadow plots, and accessibility evaluations can be generated during the process. These can be embedded in the repository to demonstrate the functionality, such as showing how proposed buildings interact with the existing context and how shadows fall on neighboring structures.

GAIA enables exploration of different planning scenarios with minimal code adjustments and supports rigorous multi-criteria evaluation of urban form. It is an open, extensible platform for research and practical use in generative urban planning.

(Feel free to contact me on susanne.wiese@live.no if you have any questions)

